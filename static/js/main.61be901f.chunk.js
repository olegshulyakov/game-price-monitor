(this["webpackJsonppsn-tracker-app"]=this["webpackJsonppsn-tracker-app"]||[]).push([[0],{100:function(e,n,t){},102:function(e,n,t){"use strict";t.r(n);t(75);var a=t(0),r=t.n(a),o=t(11),c=t(30),i=t.n(c),u=t(15),l=t(9),s=t(62),m=(t(84),t(85),t(12)),g=t.n(m),f=t(25),p=t(8),d=function(e){var n=e.images&&e.images[0]?e.images[0].url:"",t=E(e),a=h(e),r=v(e);return{id:e.id,name:e.name,image:n,url:e.url,timestamp:e.timestamp,initial_price:t,sale_price:a,sale_discount:r}},E=function(e){if(e.default_sku)return e.default_sku.display_price},h=function(e){var n=p.helpers.getSaleDetails(e);if(n&&n.display_price)return n.display_price},v=function(e){var n=p.helpers.getSaleDetails(e);if(n&&n.discount)return n.discount},S=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.constants.DEFAULT_FETCH_SIZE;return function(){var r=Object(f.a)(g.a.mark((function r(o){var c,i;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&e.name){r.next=3;break}return console.warn("No region specified."),r.abrupt("return");case 3:if(!(t>n)){r.next=6;break}return console.debug("Fetched all game previews for ".concat(e.name)),r.abrupt("return");case 6:return console.debug("Fetching game previews for ".concat(e.name,". total=").concat(n," start=").concat(t,", size=").concat(a)),r.prev=7,r.next=10,p.queries.getGamesList(e,a,t);case 10:if(c=r.sent){r.next=13;break}return r.abrupt("return");case 13:i=c.map((function(e){return d(e)})),o({type:"FETCH_PREVIEW_MAP",games:i}),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(7),console.error("Cannot fetch games.",r.t0);case 20:case"end":return r.stop()}}),r,null,[[7,17]])})));return function(e){return r.apply(this,arguments)}}()},b=function(){return function(){var e=Object(f.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("Clearing games store"),n({type:"CLEAR_GAMES_STORE"});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},y=t(6),O=t(7),L=t(44),w=t.n(L);function F(){var e=Object(y.a)(["\n    align-self: center;\n"]);return F=function(){return e},e}function M(){var e=Object(y.a)(["\n    align-self: center;\n    height: 20vh;\n    pointer-events: none;\n    animation-name: ",";\n    animation-duration: 0.9s;\n    animation-timing-function: ease-in-out;\n    animation-delay: 0s;\n    animation-iteration-count: infinite;\n    animation-direction: normal;\n"]);return M=function(){return e},e}function k(){var e=Object(y.a)(["\n    from {\n            transform: rotate(0deg);\n        }\n        to {\n            transform: rotate(360deg);\n        }\n        "]);return k=function(){return e},e}function x(){var e=Object(y.a)(["\n    position: absolute;\n    top: 30%;\n    min-width: 100%;\n    display: flex;\n    flex-direction: column;\n"]);return x=function(){return e},e}var A=O.a.div(x()),_=Object(O.b)(k()),R=O.a.img(M(),_),G=O.a.div(F()),j=function(e){return r.a.createElement(A,null,r.a.createElement(R,{src:w.a,alt:"Loading"}),r.a.createElement(G,null,e.msg?e.msg:""))},T=function(e){return function(n){console.debug("Changing region to ".concat(e.name)),n({type:"SELECT_REGION",region:e})}},C={fetchRegions:function(){return function(){var e=Object(f.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("Fetching region list"),n({type:"FETCH_REGIONS",regions:p.constants.REGIONS});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},fetchInfo:function(e){return function(){var n=Object(f.a)(g.a.mark((function n(t){var a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&e.name){n.next=3;break}return console.warn("No region specified."),n.abrupt("return");case 3:return console.debug("Fetching store info for [".concat(e.name,"]")),n.prev=4,n.next=7,p.queries.getStoreInfo(e);case 7:if(a=n.sent,!p.queries.isQueryFailed(a)){n.next=11;break}return t({type:"CLEAR_REGION"}),n.abrupt("return");case 11:t({type:"FETCH_GAMES_COUNT",info:a}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),console.error("Cannot fetch store information [".concat(e.name,"]."),n.t0);case 17:case"end":return n.stop()}}),n,null,[[4,14]])})));return function(e){return n.apply(this,arguments)}}()},fetchGames:S,clearStore:b},I=Object(l.f)(Object(o.b)((function(e){return e}),C)((function(e){var n=e.store.info&&e.store.previews;return r.a.useEffect((function(){e.region.regions&&0!==e.region.regions.length||e.fetchRegions()}),[]),r.a.useEffect((function(){n||e.clearStore(),function(){if(e.region.current)if(e.store.info);else{var n=e.region.current;e.fetchInfo(n)}}()}),[e.region.current]),e.region.regions&&0!==e.region.regions.length?(e.region.current&&e.region.current.name||e.history.push("/selectregion"),n?(e.history.push("/discounts"),r.a.createElement(r.a.Fragment,null)):r.a.createElement(j,{msg:r.a.createElement("p",null,"Loading games...")})):r.a.createElement(j,null)}))),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var P,D=t(18),z=(t(92),t(66)),H=(t(93),t(40)),W=t(45),q=t.n(W),Z=t(23),B=t(17),V=t(41),J=function(e){var n=new Map;if(!e)return n;for(var t=0;t<e.length;t++){var a=e[t];n.set(a.key,a.game)}return n},Q=function(e){var n=[];if(!e)return n;var t,a=Object(Z.a)(e.entries());try{for(a.s();!(t=a.n()).done;){var r=Object(V.a)(t.value,2),o={key:r[0],game:r[1]};n.push(o)}}catch(c){a.e(c)}finally{a.f()}return n},K={info:void 0,previews:[],search:[]},$="persist:game:",X={regions:p.constants.REGIONS,current:void 0},Y={key:"redux:regions",storage:q.a},ee=Object(H.a)(Y,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_REGIONS":return Object(B.a)(Object(B.a)({},e),{},{regions:n.regions});case"SELECT_REGION":return Object(B.a)(Object(B.a)({},e),{},{current:n.region});case"CLEAR_REGION":return Object(B.a)(Object(B.a)({},e),{},{current:null});default:return e}})),ne=Object(D.combineReducers)({region:ee,store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"FETCH_GAMES_COUNT":return Object(B.a)(Object(B.a)({},e),{},{info:n.info});case"FETCH_PREVIEW_MAP":for(var t=J(e.previews),a=0;a<n.games.length;a++){var r=n.games[a];t.set(r.id,r)}var o=Q(t);return Object(B.a)(Object(B.a)({},e),{},{previews:o});case"CLEAR_GAMES_STORE":return K;case"SEARCH_GAMES":var c,i=new Map,u=Object(Z.a)(n.games);try{for(u.s();!(c=u.n()).done;){var l=c.value;i.set(l.id,l)}}catch(m){u.e(m)}finally{u.f()}var s=Q(i);return Object(B.a)(Object(B.a)({},e),{},{search:s});default:return e}}}),te=[z.a],ae=[D.applyMiddleware.apply(void 0,te)];P=D.compose.apply(void 0,ae);var re={key:"redux:root",storage:q.a,blacklist:["store"]},oe=Object(H.a)(re,ne),ce=Object(D.createStore)(oe,P),ie=Object(H.b)(ce),ue=t(32),le=t(70),se=t(48),me=t(108),ge=Object(o.b)((function(e){return{current:e.region.current,regions:e.region.regions}}),{selectRegion:T,clearGamesStore:b})((function(e){var n=function(n){var t;return t=e.current&&e.current.name===n.name?r.a.createElement("b",null,n.name):n.name,r.a.createElement(me.a.Item,{key:"dropdown-region-"+n.name,onClick:function(){!function(n){e.clearGamesStore(),e.selectRegion(n)}(n)}},t)},t=e.regions.map((function(e){return n(e)}));return r.a.createElement(me.a,null,r.a.createElement(me.a.Toggle,{id:"language-menu",size:"sm",style:{marginRight:"0.25rem",border:0,color:"var(--text-primary)",backgroundColor:"transparent",fontSize:"0.8rem"}},r.a.createElement(ue.a,{icon:se.a,size:"2x"})),r.a.createElement(me.a.Menu,null,t))})),fe=t(110),pe=Object(l.f)((function(e){return r.a.createElement("header",{className:"d-flex flex-column flex-md-row align-items-center bg-white border-bottom shadow-sm p-1"},r.a.createElement(ue.a,{style:{margin:"0 0.5rem 0 0.5rem"},icon:le.a,size:"2x",onClick:function(){e.history.push("/")}}),r.a.createElement(fe.a,{className:"justify-content-center mr-auto",defaultActiveKey:"/"},r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{className:"text-dark",onClick:function(){e.history.push("/search")}},"Search")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{className:"text-dark",onClick:function(){e.history.push("/discounts")}},"Discounts")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{className:"text-dark",onClick:function(){e.history.push("/allgames")}},"All Games")),r.a.createElement(fe.a.Item,null,r.a.createElement(fe.a.Link,{className:"text-dark",disabled:!0,onClick:function(){e.history.push("/wishlist")}},"Wishlist"))),e.isLanguageEnabled?r.a.createElement(ge,null):r.a.createElement(r.a.Fragment,null))}));function de(){var e=Object(y.a)(["\n    margin-top: auto;\n    width: 100%;\n    display: flex;\n    flex-shrink: 0;\n    flex-direction: row;\n    justify-content: center;\n    padding-top: 0.25rem;\n    padding-bottom: 0.25rem;\n    font-size: 0.8rem;\n\n    @media only screen and (max-width: 600px) {\n        display: none;\n    }\n"]);return de=function(){return e},e}var Ee=O.a.footer(de()),he=function(e){return r.a.createElement(Ee,{className:e.className,style:e.style},r.a.createElement(u.b,{className:"link",to:"/about"},"About"),". ",r.a.createElement("a",{className:"link",href:"https://github.com/olegshulyakov/game-price-tracker",target:"_blank",rel:"noopener noreferrer"},"GitHub"),". "," Version: ",r.a.createElement("b",null,"2020.11.14"))};function ve(){var e=Object(y.a)(["\n    color: #07c;\n    text-decoration: none;\n"]);return ve=function(){return e},e}function Se(){var e=Object(y.a)(["\n    padding-left: 1rem;\n    padding-right: 1rem;\n    padding-top: 0.5rem;\n    padding-bottom: 2.5rem;\n\n    @media (min-width: 600px) {\n        padding-top: 2.5rem;\n        padding-bottom: 1rem;\n    }\n"]);return Se=function(){return e},e}function be(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n"]);return be=function(){return e},e}var ye=O.a.div(be()),Oe=O.a.div(Se()),Le=O.a.a(ve()),we=function(e){return r.a.createElement(ye,{className:e.className,style:e.style},r.a.createElement(pe,null),r.a.createElement(Oe,null,r.a.createElement("h3",null,"About page"),r.a.createElement("p",{className:"description"},"This is a try to prettify Playstation store UI with modern technologies."),r.a.createElement("p",{className:"thanks"},"We want to thanks people who helped on work with this resource."),r.a.createElement("p",{className:"technologies"},r.a.createElement("b",null,"Technology stack:")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Le,{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React")),r.a.createElement("li",null,r.a.createElement(Le,{href:"https://redux.js.org/",target:"_blank",rel:"noopener noreferrer"},"Redux")),r.a.createElement("li",null,r.a.createElement(Le,{href:"https://styled-components.com/",target:"_blank",rel:"noopener noreferrer"},"Styled Components")),r.a.createElement("li",null,r.a.createElement(Le,{href:"https://material-ui.com/",target:"_blank",rel:"noopener noreferrer"},"Material UI")),r.a.createElement("li",null,r.a.createElement(Le,{href:"https://fontawesome.com/",target:"_blank",rel:"noopener noreferrer"},"Font Awesome"))),r.a.createElement("p",null,r.a.createElement("b",null,"Attribution:")),r.a.createElement("p",null,r.a.createElement("img",{src:w.a,height:16,width:16,alt:"Playstation Classic icon"})," Classic Playstation Icon is made by"," ",r.a.createElement(Le,{href:"https://www.flaticon.com/authors/freepik",target:"_blank",rel:"noopener noreferrer"},"Freepik")," ","from"," ",r.a.createElement(Le,{href:"https://www.flaticon.com/",target:"_blank",rel:"noopener noreferrer"},"Flaticon"),".")),r.a.createElement(he,null))},Fe=t(51),Me=(t(100),t(106)),ke=t(107),xe=t(71);function Ae(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: row;\n    padding: 0.5rem 0;\n    align-items: center;\n    font-size: 2rem;\n\n    @media (min-width: 600px) {\n        font-size: 1rem;\n    }\n"]);return Ae=function(){return e},e}function _e(){var e=Object(y.a)(["\n    width: 240px;\n    height: 240px;\n    align-self: center;\n    border-radius: 0.25rem;\n    transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n    box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14),\n        0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]);return _e=function(){return e},e}function Re(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n    cursor: pointer;\n"]);return Re=function(){return e},e}var Ge=O.a.div(Re()),je=O.a.img(_e()),Te=O.a.div(Ae()),Ce=function(e){var n=E(e.game),t=h(e.game),a=function(e){var n=p.helpers.getSaleDetails(e);if(n&&n.bonus_display_price)return n.bonus_display_price}(e.game),o=[];return n===t?o.push(r.a.createElement("div",{key:"detail-price-"+e.game.id,className:"Game-detail-price"},t)):o.push(r.a.createElement("div",{key:"sale-price-"+e.game.id,className:"Game-detail-sale-price"},t)),a&&o.push(r.a.createElement("div",{key:"ps-plus-price-"+e.game.id,className:"Game-detail-ps-plus-price"},a)),r.a.createElement(Ge,{onClick:function(){window.open(p.helpers.getStoreGameLink(e.region,e.game.id),"_blank")}},r.a.createElement(je,{loading:"lazy",src:p.helpers.getPreviewImage(e.game),title:e.game.name,placeholder:e.game.name,width:240,height:240}),r.a.createElement(Te,null,r.a.createElement(ue.a,{key:"shopping-cart-"+e.game.id,icon:se.b,size:"1x",style:{marginRight:"0.25rem"}}),o))};function Ie(){var e=Object(y.a)(["\n    margin: 0;\n    letter-spacing: 0.01071em;\n"]);return Ie=function(){return e},e}function Ne(){var e=Object(y.a)(["\n    margin: 0;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n"]);return Ne=function(){return e},e}var Ue=O.a.span(Ne()),Pe=O.a.p(Ie()),De=function(e){var n;return e.attribute&&e.values&&0!==e.values.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,null,e.attribute),r.a.createElement(Pe,null,null===(n=e.values)||void 0===n?void 0:n.map((function(e){return e+" "})))):r.a.createElement(r.a.Fragment,null)};function ze(){var e=Object(y.a)(["\n    @media screen and (min-width: 600px) {\n        display: none;\n    }\n"]);return ze=function(){return e},e}function He(){var e=Object(y.a)(["\n    @media screen and (max-width: 600px) {\n        display: none;\n    }\n"]);return He=function(){return e},e}function We(){var e=Object(y.a)(["\n    height: 0.5rem;\n"]);return We=function(){return e},e}function qe(){var e=Object(y.a)(["\n    font-size: 0.9rem;\n"]);return qe=function(){return e},e}function Ze(){var e=Object(y.a)(['\n    margin: 0;\n    font-size: 3rem;\n    font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n    font-weight: 400;\n    line-height: 1.167;\n    letter-spacing: 0;\n    cursor: pointer;\n']);return Ze=function(){return e},e}var Be=O.a.h3(Ze()),Ve=O.a.div(qe()),Je=O.a.div(We()),Qe=O.a.div(He()),Ke=O.a.div(ze()),$e=Object(l.f)(Object(o.b)((function(e){return{region:e.region.current}}))((function(e){var n,t,a,o=e.match.params.cusa,c=e.location.state?e.location.state:"",i=r.a.useState(!1),l=Object(V.a)(i,2),s=l[0],m=l[1],g=r.a.useState(void 0),f=Object(V.a)(g,2),d=f[0],E=f[1];try{var h=sessionStorage.getItem($+o),v=JSON.parse(h);m(!0),E(v)}catch(T){m(!1),E(void 0)}var S=!o||!c;if(r.a.useEffect((function(){S||s&&d||fetch(c).then((function(e){return e.json()})).then((function(e){var n=e;m(!0),E(n),sessionStorage.setItem($+o,JSON.stringify(d))})).catch((function(e){return console.error("Cannot load game data, [".concat(o,"]."),e)}))}),[]),S)return r.a.createElement(r.a.Fragment,null);if(!s||!d||!d.name||!d.images)return r.a.createElement(j,{msg:r.a.createElement("p",null,"Loading game information...")});var b,y=p.helpers.getStoreGameLink(e.region,d.id),O=new Set,L=new Set,w=new Set,F=Object(Z.a)(d.playable_platform);try{for(F.s();!(b=F.n()).done;){var M=b.value;O.add(M.substring(0,M.indexOf("\u2122")).toUpperCase())}}catch(C){F.e(C)}finally{F.f()}var k,x=Object(Z.a)(null===(a=d.default_sku)||void 0===a?void 0:a.entitlements);try{for(x.s();!(k=x.n()).done;){var A,_,R,G=k.value;null===(A=G.packages)||void 0===A||A.map((function(e){O.add(e.platformName.toUpperCase())})),null===(_=G.voice_language_codes)||void 0===_||_.map((function(e){L.add(e.toUpperCase())})),null===(R=G.subtitle_language_codes)||void 0===R||R.map((function(e){w.add(e.toUpperCase())}))}}catch(C){x.e(C)}finally{x.f()}return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null),r.a.createElement(Me.a,null,r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(u.b,{to:"/"},"Home")),r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},d.name))),r.a.createElement(ke.a,null,r.a.createElement(xe.a,{xs:12,sm:0,md:0,lg:0,xl:0},r.a.createElement(Ke,null,r.a.createElement(Ce,{region:e.region,game:d}))),r.a.createElement(xe.a,{xs:12,sm:9,md:9,lg:9,xl:9},r.a.createElement(Be,{onClick:function(){window.open(y,"_blank")}},d.name,(null===(n=d.content_rating)||void 0===n?void 0:n.url)?r.a.createElement("img",{src:null===(t=d.content_rating)||void 0===t?void 0:t.url,loading:"eager",alt:"rating",height:"45px",width:"45px"}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(Ve,{dangerouslySetInnerHTML:{__html:d.long_desc}})),r.a.createElement(xe.a,{xs:0,sm:3,md:3,lg:3,xl:3},r.a.createElement(Qe,null,r.a.createElement(Ce,{region:e.region,game:d}),r.a.createElement(Je,null),r.a.createElement(De,{attribute:"Platforms",values:Object(Fe.a)(O.keys())}),r.a.createElement(Je,null),r.a.createElement(De,{attribute:"Audio",values:Object(Fe.a)(L.keys())}),r.a.createElement(Je,null),r.a.createElement(De,{attribute:"Subtitles",values:Object(Fe.a)(w.keys())}))))),r.a.createElement(he,null))}))),Xe=t(109),Ye=t(73),en=t(72),nn=t.n(en),tn=t(111),an=Object(l.f)((function(e){var n=function(n){e.history.push({pathname:"/game/"+n.id,state:n.url})},t=function(n){n.preventDefault(),window.open(p.helpers.getStoreGameLink(e.region,e.game.id),"_blank")},a=r.a.createElement("div",{onClick:t},r.a.createElement("small",null,e.game.initial_price));e.game.sale_discount&&(a=r.a.createElement("div",{onClick:t},r.a.createElement("small",{className:"price-sale"}," ",e.game.sale_discount,"% ")," ",r.a.createElement("s",null,r.a.createElement("small",null,e.game.initial_price))," ",r.a.createElement("small",null,e.game.sale_price)));var o=p.queries.getGameImageLink(e.region,e.game.id,256,256);return r.a.createElement(tn.a,{className:"preview-card"},r.a.createElement(tn.a.Img,{variant:"top",className:"btn p-0",src:o,loading:"lazy",alt:e.game.name,title:e.game.name,placeholder:e.game.name,onClick:function(){return n(e.game)}}),r.a.createElement(tn.a.Body,{className:"p-2 btn",onClick:function(){return n(e.game)}},r.a.createElement(tn.a.Title,{className:"m-0 text-left"},r.a.createElement("small",null,e.game.name))),r.a.createElement(tn.a.Footer,{className:"text-left p-2"},a))}));function rn(){var e=Object(y.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fit, var(--img-preview-side-small));\n    grid-auto-rows: auto;\n    gap: 1rem;\n    justify-content: center;\n\n    @media screen and (min-width: 600px) {\n        grid-template-columns: repeat(auto-fit, var(--img-preview-side));\n        grid-auto-rows: auto;\n        gap: 0.5rem;\n    }\n"]);return rn=function(){return e},e}var on=O.a.div(rn()),cn=function(e){var n=e.games.slice().map((function(n){return r.a.createElement(an,{key:"game-preview-"+n.key,region:e.region,game:n.game})})),t=window.screen.height;return r.a.createElement(Me.a,{fluid:!0},r.a.createElement(nn.a,{key:"infinite-scroll",hasMore:e.hasMoreItems(),initialLoad:!0,isReverse:!1,loadMore:function(n){e.loadNextPage(n)},pageStart:0,threshold:t,useCapture:!1,useWindow:!0},r.a.createElement(on,null,n)))},un={searchGames:function(e,n){return function(){var t=Object(f.a)(g.a.mark((function t(a){var r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.name){t.next=3;break}return console.warn("No region specified."),t.abrupt("return");case 3:return console.debug("Searching games for ".concat(e.name,". string=[").concat(n,"]")),t.prev=4,t.next=7,p.queries.search(e,n,p.constants.DEFAULT_FETCH_SIZE);case 7:if(r=t.sent){t.next=10;break}return t.abrupt("return");case 10:o=r.links.map((function(e){return d(e)})),a({type:"SEARCH_GAMES",games:o}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Cannot fetch games.",t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}()}},ln=Object(l.f)(Object(o.b)((function(e){return{region:e.region.current,store:e.store}}),un)((function(e){r.a.useEffect((function(){e.store||e.history.push("/")}),[]);return e.store&&e.store.search?r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{isLanguageEnabled:!0}),r.a.createElement(Me.a,{fluid:!0},r.a.createElement(Xe.a,null,r.a.createElement(xe.a,{xs:4,className:"mx-auto pt-2 pb-2"},r.a.createElement(Ye.a,{key:"search-input",type:"text",placeholder:"Start typing...",onChange:function(n){return function(n){if(n.target&&e.region){var t=n.target.value;!t||t.length<=3||" "===t[t.length-1]||e.searchGames(e.region,t)}}(n)}}))),r.a.createElement(cn,{region:e.region,games:e.store.search,hasMoreItems:function(){return!1},loadNextPage:function(e){}})),r.a.createElement(he,null)):r.a.createElement(r.a.Fragment,null)}))),sn={fetchGames:S},mn=Object(l.f)(Object(o.b)((function(e){return{region:e.region.current,store:e.store}}),sn)((function(e){r.a.useEffect((function(){e.region&&e.store&&e.store.info&&e.store.info.total_results||e.history.push("/")}),[]);if(!e.store||!e.store.previews)return r.a.createElement(r.a.Fragment,null);var n=e.store.previews.slice().filter((function(e){return void 0!==e.game.sale_discount}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{isLanguageEnabled:!0}),r.a.createElement(Me.a,{fluid:!0},r.a.createElement(cn,{region:e.region,games:n,hasMoreItems:function(){return!(!e.store.info||!e.store.previews||e.store.previews.length>=e.store.info.total_results)},loadNextPage:function(n){e.store.info&&e.store.previews&&e.fetchGames(e.region,e.store.info.total_results,e.store.previews.length)}})),r.a.createElement(he,null))}))),gn={fetchGames:S},fn=Object(l.f)(Object(o.b)((function(e){return{region:e.region.current,store:e.store}}),gn)((function(e){r.a.useEffect((function(){e.region&&e.store&&e.store.info&&e.store.info.total_results||e.history.push("/")}),[]);return e.store&&e.store.previews?r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{isLanguageEnabled:!0}),r.a.createElement(Me.a,{fluid:!0},r.a.createElement(cn,{region:e.region,games:e.store.previews,hasMoreItems:function(){return!(!e.store.info||!e.store.previews||e.store.previews.length>=e.store.info.total_results)},loadNextPage:function(n){e.store.info&&e.store.previews&&e.fetchGames(e.region,e.store.info.total_results,e.store.previews.length)}})),r.a.createElement(he,null)):r.a.createElement(r.a.Fragment,null)}))),pn=Object(l.f)(Object(o.b)(null,null)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,{isLanguageEnabled:!0}),r.a.createElement(Me.a,{fluid:!0}),r.a.createElement(he,null))}))),dn=function(){var e=Object(f.a)(g.a.mark((function e(n){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(n.coords.latitude,"&lon=").concat(n.coords.longitude));case 2:return t=e.sent,e.next=5,t.json();case 5:if((a=e.sent).address&&a.address.country_code){e.next=8;break}return e.abrupt("return","");case 8:return e.abrupt("return",a.address.country_code);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function En(){var e=Object(y.a)(["\n    text-align: center;\n"]);return En=function(){return e},e}function hn(){var e=Object(y.a)(["\n    text-align: center;\n"]);return hn=function(){return e},e}function vn(){var e=Object(y.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    justify-content: center;\n    border-radius: 0.25rem;\n    background-color: var(--br-card);\n    border: 0;\n    cursor: pointer;\n    margin: 0;\n    box-shadow: var(--box-shadow-card);\n    overflow: hidden;\n"]);return vn=function(){return e},e}function Sn(){var e=Object(y.a)(["\n    min-height: 0;\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(16.875rem, 0.45fr));\n    grid-auto-rows: minmax(0px, 70px);\n    gap: 0.5rem;\n    justify-content: center;\n\n    @media screen and (min-width: 600px) {\n        grid-template-columns: repeat(auto-fit, 16.875rem);\n        gap: 0.75rem;\n    }\n"]);return Sn=function(){return e},e}var bn=O.a.div(Sn()),yn=O.a.div(vn()),On=O.a.h1(hn()),Ln=O.a.p(En()),wn={selectRegion:T,clearGamesStore:b},Fn=Object(l.f)(Object(o.b)((function(e){return{regions:e.region.regions,current:e.region.current}}),wn)((function(e){r.a.useEffect((function(){var n;n=function(n){var t,a=Object(Z.a)(e.regions);try{for(a.s();!(t=a.n()).done;){var r=t.value;r.country.toLowerCase()===n.toLowerCase()&&e.selectRegion(r)}}catch(o){a.e(o)}finally{a.f()}},navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){dn(e).then((function(e){return n(e)})).catch((function(e){return console.error(e)}))}))}),[]),r.a.useEffect((function(){e.current&&e.history.push("/")}),[e.current]);var n=e.regions.map((function(n){return function(n){return r.a.createElement(yn,{key:"region-"+n.name,className:"SelectRegion-card",onClick:function(){e.clearGamesStore(),e.selectRegion(n)}},r.a.createElement(Ln,null,n.name))}(n)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null),r.a.createElement(Me.a,{fluid:!0},r.a.createElement(On,null,"Please select your country / region"),r.a.createElement(bn,null,n)),r.a.createElement(he,null))}))),Mn=localStorage.getItem("persist:redux:app-version"),kn="".concat("2020.11.14");Mn&&Mn!==kn&&localStorage.clear(),localStorage.setItem("persist:redux:app-version",kn),i.a.render(r.a.createElement(o.a,{store:ce},r.a.createElement(s.a,{loading:null,persistor:ie},r.a.createElement(u.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:function(){return r.a.createElement(I,null)}}),r.a.createElement(l.a,{path:"/selectregion",exact:!0,component:function(){return r.a.createElement(Fn,null)}}),r.a.createElement(l.a,{path:"/search",exact:!0,component:function(){return r.a.createElement(ln,null)}}),r.a.createElement(l.a,{path:"/discounts",exact:!0,component:function(){return r.a.createElement(mn,null)}}),r.a.createElement(l.a,{path:"/allgames",exact:!0,component:function(){return r.a.createElement(fn,null)}}),r.a.createElement(l.a,{path:"/wishlist",exact:!0,component:function(){return r.a.createElement(pn,null)}}),r.a.createElement(l.a,{path:"/about",exact:!0,component:function(){return r.a.createElement(we,null)}}),r.a.createElement(l.a,{path:"/game/:cusa",component:function(){return r.a.createElement($e,null)}}))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://olegshulyakov.github.io/game-price-tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("https://olegshulyakov.github.io/game-price-tracker","/service-worker.js");N?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(n,e)}))}}()},44:function(e,n,t){e.exports=t.p+"static/media/playstation-classic.402fbb90.svg"},59:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.REGIONS=n.DEFAULT_SEARCH_SIZE=n.DEFAULT_FETCH_SIZE=n.SORT_DIRECTIONS=n.SORT_FIELDS=void 0,n.SORT_FIELDS=Object.freeze({RELEASE_DATE:"release_date",TIMESTAMP:"timestamp"}),n.SORT_DIRECTIONS=Object.freeze({ASC:"asc",DESC:"desc"}),n.DEFAULT_FETCH_SIZE=25,n.DEFAULT_SEARCH_SIZE=5,n.REGIONS=[{name:"Argentina",language:"es",country:"ar",root:"STORE-MSF77008-ALLGAMES"},{name:"Australia",language:"en",country:"au",root:"STORE-MSF75508-FULLGAMES"},{name:"Austria (\xd6sterreich)",language:"de",country:"at",root:"STORE-MSF75508-FULLGAMES"},{name:"Belgium (Fran\xe7ais)",language:"fr",country:"be",root:"STORE-MSF75508-FULLGAMES"},{name:"Belgium (Nederlands)",language:"nl",country:"be",root:"STORE-MSF75508-FULLGAMES"},{name:"Brasil",language:"pt",country:"br",root:"STORE-MSF77008-ALLGAMES"},{name:"Bulgaria (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)",language:"bg",country:"bg",root:"STORE-MSF75508-FULLGAMES"},{name:"Canada",language:"en",country:"ca",root:"STORE-MSF77008-ALLGAMES"},{name:"Canada (French)",language:"fr",country:"ca",root:"STORE-MSF77008-ALLGAMES"},{name:"Chile",language:"es",country:"cl",root:"STORE-MSF77008-ALLGAMES"},{name:"Colombia",language:"es",country:"co",root:"STORE-MSF77008-ALLGAMES"},{name:"Costa Rica",language:"es",country:"cr",root:"STORE-MSF77008-ALLGAMES"},{name:"Croatia (Hrvatska)",language:"hr",country:"hr",root:"STORE-MSF75508-FULLGAMES"},{name:"Cyprus",language:"en",country:"cy",root:"STORE-MSF75508-FULLGAMES"},{name:"Czech Republic (Cesk\xe1 Republika)",language:"cs",country:"cz",root:"STORE-MSF75508-FULLGAMES"},{name:"Denmark (Danmark)",language:"da",country:"dk",root:"STORE-MSF75508-FULLGAMES"},{name:"Ecuador",language:"es",country:"ec",root:"STORE-MSF77008-ALLGAMES"},{name:"El Salvador",language:"es",country:"sv",root:"STORE-MSF77008-ALLGAMES"},{name:"Finland (Suomi)",language:"fi",country:"fi",root:"STORE-MSF75508-FULLGAMES"},{name:"France",language:"fr",country:"fr",root:"STORE-MSF75508-FULLGAMES"},{name:"Germany (Deutschland)",language:"de",country:"de",root:"STORE-MSF75508-FULLGAMES"},{name:"Greece (\u0395\u03bb\u03bb\u03b1\u03b4\u03b1)",language:"el",country:"gr",root:"STORE-MSF75508-FULLGAMES"},{name:"Guatemala",language:"es",country:"gt",root:"STORE-MSF77008-ALLGAMES"},{name:"Honduras",language:"es",country:"hn",root:"STORE-MSF77008-ALLGAMES"},{name:"Hungary (Magyarorsz\xe1g)",language:"hu",country:"hu",root:"STORE-MSF75508-FULLGAMES"},{name:"Iceland (\xcdsland)",language:"is",country:"is",root:"STORE-MSF75508-FULLGAMES"},{name:"India",language:"en",country:"in",root:"STORE-MSF75508-FULLGAMES"},{name:"Ireland",language:"en",country:"ie",root:"STORE-MSF75508-FULLGAMES"},{name:"Italy",language:"it",country:"it",root:"STORE-MSF75508-FULLGAMES"},{name:"Luxembourg (Deutsch)",language:"de",country:"lu",root:"STORE-MSF75508-FULLGAMES"},{name:"Luxembourg (Fran\xe7ais)",language:"fr",country:"lu",root:"STORE-MSF75508-FULLGAMES"},{name:"Malta",language:"en",country:"mt",root:"STORE-MSF75508-FULLGAMES"},{name:"Mexico (M\xe9xico)",language:"es",country:"mx",root:"STORE-MSF77008-ALLGAMES"},{name:"Nederland",language:"nl",country:"nl",root:"STORE-MSF75508-FULLGAMES"},{name:"New Zealand",language:"en",country:"nz",root:"STORE-MSF75508-FULLGAMES"},{name:"Nicaragua",language:"es",country:"ni",root:"STORE-MSF77008-ALLGAMES"},{name:"Norway (Norge)",language:"no",country:"no",root:"STORE-MSF75508-FULLGAMES"},{name:"Panama (Panam\xe1)",language:"es",country:"pa",root:"STORE-MSF77008-ALLGAMES"},{name:"Paraguay",language:"es",country:"py",root:"STORE-MSF77008-ALLGAMES"},{name:"Peru (Per\xfa)",language:"es",country:"pe",root:"STORE-MSF77008-ALLGAMES"},{name:"Poland (Polska)",language:"pl",country:"pl",root:"STORE-MSF75508-FULLGAMES"},{name:"Portugal",language:"pt",country:"pt",root:"STORE-MSF75508-FULLGAMES"},{name:"Romania (Rom\xe2nia)",language:"ro",country:"ro",root:"STORE-MSF75508-FULLGAMES"},{name:"Russia (\u0420\u043e\u0441\u0441\u0438\u044f)",language:"ru",country:"ru",root:"STORE-MSF75508-FULLGAMES"},{name:"Saudi Arabia (Arabic)",language:"ar",country:"sa",root:"STORE-MSF75508-FULLGAMES"},{name:"Slovenia (Slovenija)",language:"sl",country:"si",root:"STORE-MSF75508-FULLGAMES"},{name:"Slovakia (Slovensk\xe1 Republika)",language:"sk",country:"sk",root:"STORE-MSF75508-FULLGAMES"},{name:"South Africa",language:"en",country:"za",root:"STORE-MSF75508-FULLGAMES"},{name:"Spain (Espa\xf1a)",language:"es",country:"es",root:"STORE-MSF75508-FULLGAMES"},{name:"Sweden (Sverige)",language:"sv",country:"se",root:"STORE-MSF75508-FULLGAMES"},{name:"Switzerland (Deutsch)",language:"de",country:"ch",root:"STORE-MSF75508-FULLGAMES"},{name:"Switzerland (Fran\xe7ais)",language:"fr",country:"ch",root:"STORE-MSF75508-FULLGAMES"},{name:"Switzerland (Italiano)",language:"it",country:"ch",root:"STORE-MSF75508-FULLGAMES"},{name:"Turkey (T\xfcrkiye)",language:"tr",country:"tr",root:"STORE-MSF75508-FULLGAMES"},{name:"Ukraine (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)",language:"uk",country:"ua",root:"STORE-MSF75508-FULLGAMES"},{name:"United Arab Emirates / Middle East",language:"en",country:"ae",root:"STORE-MSF75508-FULLGAMES"},{name:"United States",language:"en",country:"us",root:"STORE-MSF77008-ALLGAMES"},{name:"United Kingdom",language:"en",country:"gb",root:"STORE-MSF75508-FULLGAMES"},{name:"Uruguay",language:"es",country:"uy",root:"STORE-MSF77008-ALLGAMES"}]},74:function(e,n,t){e.exports=t(102)},8:function(e,n,t){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t),Object.defineProperty(e,a,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.hasOwnProperty.call(e,t)&&a(n,e,t);return r(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),n.helpers=n.queries=n.constants=n.types=void 0;var c=o(t(87));n.types=c;var i=o(t(59));n.constants=i;var u=o(t(88));n.queries=u;var l=o(t(90));n.helpers=l;var s=Object.assign(Object.assign(Object.assign(Object.assign({},i),l),u),c);n.default=s},84:function(e,n,t){},85:function(e,n,t){},87:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},88:function(e,n,t){"use strict";var a=t(12),r=t(89);Object.defineProperty(n,"__esModule",{value:!0}),n.findView=n.search=n.getGameImageLink=n.getGamesList=n.getStoreInfo=n.getGameInfo=n.query=n.getGeoInfo=n.isQueryFailed=void 0;var o=t(59),c="https://store.playstation.com/store/api/chihiro/00_09_000";function i(e){return e.cause||e.codeName&&"DataNotFound"===e.codeName}function u(){return(u=r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"/geo"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,n){return s.apply(this,arguments)}function s(){return(s=r(a.mark((function e(n,t){var r,u,l,s,m,g=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:1,u=g.length>3?g[3]:void 0,l="".concat(c,"/container/").concat(n.country,"/").concat(n.language,"/999/").concat(t,"?&sort=").concat(o.SORT_FIELDS.TIMESTAMP,"&direction=").concat(o.SORT_DIRECTIONS.DESC),void 0!==r&&(l+="&size=".concat(r)),void 0!==u&&(l+="&start=".concat(u)),e.next=7,fetch(l);case 7:return s=e.sent,e.next=10,s.json();case 10:if(!i(m=e.sent)){e.next=13;break}throw Error("Cannot execute query. ".concat(m.cause));case 13:return e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=r(a.mark((function e(n,t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n,t,0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=r(a.mark((function e(n){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n,n.root,0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=r(a.mark((function e(n){var t,r,c,i=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:o.DEFAULT_FETCH_SIZE,r=i.length>2&&void 0!==i[2]?i[2]:0,e.next=4,l(n,n.root,t,r);case 4:return c=e.sent,e.abrupt("return",c.links);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=r(a.mark((function e(n,t){var r,c,u,l,s=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:o.DEFAULT_SEARCH_SIZE,c="https://store.playstation.com/store/api/chihiro/00_09_000/tumbler/".concat(n.country,"/").concat(n.language,"/999/").concat(escape(t),"?size=").concat(r),e.next=4,fetch(c);case 4:return u=e.sent,e.next=7,u.json();case 7:if(!i(l=e.sent)){e.next=10;break}throw Error("Cannot execute query. ".concat(l.cause));case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=r(a.mark((function e(n,t){var r,o,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://store.playstation.com/chihiro-api/viewfinder/".concat(n.country,"/").concat(n.language,"/999/").concat(t,"?gkb=1"),e.next=3,fetch(r);case 3:return o=e.sent,e.next=6,o.json();case 6:if(!i(c=e.sent)){e.next=9;break}throw Error("Cannot execute query. ".concat(c.cause));case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.isQueryFailed=i,n.getGeoInfo=function(){return u.apply(this,arguments)},n.query=l,n.getGameInfo=function(e,n){return m.apply(this,arguments)},n.getStoreInfo=function(e){return g.apply(this,arguments)},n.getGamesList=function(e){return f.apply(this,arguments)},n.getGameImageLink=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:240,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:240;return"".concat(c,"/container/").concat(e.country,"/").concat(e.language,"/999/").concat(n,"/image?w=").concat(t,"&h=").concat(a)},n.search=function(e,n){return p.apply(this,arguments)},n.findView=function(e,n){return d.apply(this,arguments)}},90:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getSaleDetails=n.isSale=n.getPreviewImage=n.getStoreGameLink=void 0,n.getStoreGameLink=function(e,n){return"https://store.playstation.com/".concat(e.language,"-").concat(e.country,"/product/").concat(n)},n.getPreviewImage=function(e){return e.images[0].url},n.isSale=function(e){var n,t;return(null===(n=e.default_sku)||void 0===n?void 0:n.rewards)&&(null===(t=e.default_sku)||void 0===t?void 0:t.rewards.length)>0},n.getSaleDetails=function(e){var n,t,a;if((null===(n=e.default_sku)||void 0===n?void 0:n.rewards)&&(null===(t=e.default_sku)||void 0===t?void 0:t.rewards.length)>0)return null===(a=e.default_sku)||void 0===a?void 0:a.rewards[0]}}},[[74,1,2]]]);